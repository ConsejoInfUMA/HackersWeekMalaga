<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">

<link rel="import" href="shared-styles.html">
</head><body><dom-module id="my-conferences">
    <template>
  <style include="shared-styles">
    :host {
      display: block;
      padding: 10px;
    }
  paper-fab {
    --paper-fab-background: var(--app-primary-color);
  }
  
  </style>
  <firebase-query id="query" path="/conferences" data="{{data}}">
  </firebase-query>
  <header>
    <h1>Conferencias</h1>
    <p>El corazón de la hackers <iron-icon icon="favorite" style="color:red"></iron-icon>
    </p>
  </header>
  <template is="dom-repeat" items="[[data]]" index-as="index">
    <div class="card">
        <h1>[[item.title]]</h1>
        <p>
          [[item.text]]
        </p>
        <span><b>Conferenciante:</b> [[item.author]]</span>
        <br>
        <span><b>Fecha:</b> [[item.date]]</span>
        <br>
        <span><b>Hora:</b> [[item.time]]</span>
      </div>
  </template>
  <div hidden="[[!user]]">
    <hr>
    <h1>Añadir conferencia:</h1>
    <paper-input id="title" label="Título" type="text" name="title">
  </paper-input>
  <paper-input id="text" label="Descripción" type="text" name="title">
</paper-input>
<paper-input id="author" label="Conferenciante" type="text" name="author">
</paper-input>
<paper-input id="date" label="Fecha" type="date" name="date">
</paper-input>
<paper-fab id="saveFab" icon="cloud-upload" on-tap="add"></paper-fab>
<paper-toast id="errorToast" text="¡Debes rellenar todos los datos!" horizontal-align="right"></paper-toast>
</div>


</template>


    <script>Polymer({is:"my-conferences",properties:{data:Array,user:Object},add:function(){return this.$.text.value&&this.$.title.value&&this.$.author.value&&this.$.date.value?(this.$.query.ref.push({text:this.$.text.value,title:this.$.title.value,author:this.$.author.value,date:this.$.date.value}),this.$.text.value=null,this.$.title.value=null,this.$.date.value=null,void(this.$.author.value=null)):void this.$.errorToast.open()}});</script>
</dom-module>
</body></html>