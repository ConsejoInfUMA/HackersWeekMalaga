<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<link rel="import" href="shared-styles.html">
<dom-module id="my-hw-extended">
    <template>
      <style include="shared-styles">
        :host {
          display: block;
          padding: 10px;
        }
        paper-fab {
            --paper-fab-background: var(--app-primary-color);
          }
          .countdown{
          	text-align: center;
            font-weight: 100;
          }

      h1{
        color: var(--app-primary-color);
        font-weight: 100;
        font-size: 40px;
        margin: 40px 0px 20px;
      }

    #clockdiv{

    	color: #fff;
    	display: inline-block;
    	font-weight: bold;
    	text-align: center;
    	font-size: 30px;
    }

    #clockdiv > div{
    	padding: 10px;
    	border-radius: 3px;
    	background: var(--app-primary-color);
    	display: inline-block;
    }

    #clockdiv div > span{
    	padding: 15px;
    	border-radius: 3px;
    	background: var(--app-secondary-color);
    	display: inline-block;
    }

    .smalltext{
    	padding-top: 5px;
    	font-size: 16px;
    }
      </style>
      <div class="countdown">
        <h1>Hackers&lt;&gt;Week Extended</h1>
        <div id="clockdiv">
          <div>
            <span id="days"></span>
            <div class="smalltext">Days</div>
          </div>
          <div>
            <span id="hours"></span>
            <div class="smalltext">Hours</div>
          </div>
          <div>
            <span id="minutes"></span>
            <div class="smalltext">Minutes</div>
          </div>
          <div>
            <span id="seconds"></span>
            <div class="smalltext">Seconds</div>
          </div>
        </div>
        <br />
        <br />
        <h1>Comming soon!</h1>
      </div>

    </template>
    <script>
        Polymer({
            is: 'my-hw-extended',
            properties: {
                data: Array,
                user: Object,
            },
            add: function() {
                if (!this.$.text.value || !this.$.title.value || !this.$.author.value || !this.$.date.value) {
                    this.$.errorToast.open();
                    return;
                }
                this.$.query.ref.push({
                    text: this.$.text.value,
                    title: this.$.title.value,
                    author: this.$.author.value,
                    date: this.$.date.value
                });
                this.$.text.value = null;
                this.$.title.value = null;
                this.$.date.value = null;
                this.$.author.value = null;
            },
        });
    </script>
    <script>
    // Set the date we're counting down to
    var countDownDate = new Date("Mar 31, 2017 19:00:00").getTime();

    // Update the count down every 1 second
    var x = setInterval(function() {

      // Get todays date and time
      var now = new Date().getTime();

      // Find the distance between now an the count down date
      var distance = countDownDate - now;

      // Time calculations for days, hours, minutes and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Display the result in the element with id="demo"
      document.getElementById("days").innerHTML = days;
      document.getElementById("hours").innerHTML = hours;
      document.getElementById("minutes").innerHTML = minutes;
      document.getElementById("seconds").innerHTML = seconds;

      // If the count down is finished, write some text
      if (distance < 0) {
        clearInterval(x);
        document.getElementById("clockdiv").style.display = "none";
      }
    }, 1000);
    </script>
</dom-module>
